package com.example.phr.controller; import com.example.phr.model.Appointment; import com.example.phr.repository.AppointmentRepository; import com.example.phr.service.AppointmentService; import org.springframework.web.bind.annotation.*; import java.util.List;
@RestController @RequestMapping("/api/appointments") @CrossOrigin(origins="*") public class AppointmentController { private final AppointmentService service; private final AppointmentRepository repo; public AppointmentController(AppointmentService service, AppointmentRepository repo){this.service=service; this.repo=repo;} @PostMapping("/book") public Appointment book(@RequestBody Appointment appt){return service.create(appt);} @GetMapping("/patient/{pid}") public List<Appointment> byPatient(@PathVariable Long pid){return service.byPatient(pid);} @GetMapping("/doctor/{did}") public List<Appointment> byDoctor(@PathVariable Long did){return service.byDoctor(did);} }
